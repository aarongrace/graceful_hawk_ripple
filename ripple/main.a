	TITLE	"Ripples by Aaron Grace"

	USE	"hawk.h"	
	USE	"stdio.h"
	USE	"stdlib.h"
	USE	"common.h"

;	EXT	CREATE_OBJECTS
	EXT	INIT_CANVAS
	EXT	DISPLAY_CANVAS
	EXT	DEBUG
	EXT	MOVE_OBJECTS
	EXT	DRAW_OBJECTS
; canvas object

;	S	MAIN
	;S	RECREATE_MONITOR
	;S	DISPLAY_CANVAS
	;S	INIT_CANVAS
	;S	MAIN_STOP
	;S	DRAW_OBJECTS
	INT	MAIN

PROGRAM_CYCLE:
; entry point frMEMD_RETURNom MEMD
	LOADCOM	R2,INIT_R2

;	TOSUBR	MOVE_OBJECTS
ENTRY_FROM_MAIN:

	TOSUBR	INIT_CANVAS
	TOSUBR	DRAW_OBJECTS
	TOSUBR	DISPLAY_CANVAS


ARSIZE	=	4
MAIN:
;	STORES	R1,R2
;	ADDSI	R2,ARSIZE	; -- receiving sequence

	LIL	R3,INIT_R2
	STORES	R2,R3

;	TOSUBR	CREATE_OBJECTS

	LIL	R3,RIPPLE_OBJ 
	LIL	R4,-7
	STORE	R4,R3,RIPPLE_X
	LIL	R4,-10
	STORE	R4,R3,RIPPLE_Y
	LIL	R4,3
	STORE	R4,R3,RIPPLE_RAD
	LIL	R4,#F
	STORE	R4,R3,RIPPLE_LIFE

	LEA	R4,PROGRAM_CYCLE
	LIL	R3,PROGRAM_CYCLE_AD
	STORES	R4,R3

	TOSUBR	ENTRY_FROM_MAIN
	END
